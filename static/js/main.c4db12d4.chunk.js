(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(31),i=n.n(a),s=(n(83),n(3)),c=n.n(s),p=n(8),u=n(11),l=n(12),d=n(15),h=n(13),f=n(16),b=n(7),x=n(14),m=n(70),g=n.n(m),v="lk9hyx24834i7j25guphvmkwvgp86s",w="http://b295a871.ngrok.io",y=n(32),E=n.n(y),_=n(33),C=n.n(_),k=function(){return function(){var e=Object(p.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://api.twitch.tv/helix/users",{headers:{Authorization:"Bearer ".concat(C.a.parse(document.location.hash).access_token)}});case 3:(n=e.sent)&&t({type:"FETCH_USER",payload:n.data.data[0]}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_USER",payload:{userId:123,displayName:"test",profileImage:""}});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},O={RED:"#995C4C",DARK_BLUE:"#36667C",BLUE:"#659188",LIGHT_BLUE:"#4C87A2",LAVENDER:"#9B919C",GREY:"#9A9897"},B=b.a.img.withConfig({displayName:"UserInfo__Image",componentId:"sc-16yh8s4-0"})(["border-radius:50%;height:200px;width:200px;margin-top:24px;"]),j=b.a.div.withConfig({displayName:"UserInfo__Div",componentId:"sc-16yh8s4-1"})(["display:flex;flex-direction:column;background-color:",";width:300px;align-items:center;justify-items:center;border-radius:8px;-webkit-box-shadow:0px 9px 23px 1px rgba(0,0,0,0.75);-moz-box-shadow:0px 9px 23px 1px rgba(0,0,0,0.75);box-shadow:0px 9px 23px 1px rgba(0,0,0,0.75);"],O.BLUE),U=b.a.h2.withConfig({displayName:"UserInfo__Name",componentId:"sc-16yh8s4-2"})(["margin:16px 0px;"]),D=b.a.button.withConfig({displayName:"UserInfo__LoginButton",componentId:"sc-16yh8s4-3"})(["margin:16px;text-decoration:none;color:#495264;background:#dddddd;border-radius:12px;width:45%;padding:4px;transition:700ms;:hover{background:#ffffff;-webkit-box-shadow:0px 9px 15px 1px rgba(0,0,0,0.75);-moz-box-shadow:0px 9px 15px 1px rgba(0,0,0,0.75);box-shadow:0px 9px 15px 1px rgba(0,0,0,0.75);}"]),R=Object(x.b)(function(e){return{user:e.user}},{fetchUserData:k})(function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).mapDispatchToProps=function(){return{fetchUserData:k}},n.componentWillMount=function(){n.props.fetchUserData()},n.handleClick=function(){var e=Object(p.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://id.twitch.tv/oauth2/authorize?client_id=".concat(v,"&redirect_uri=").concat(w,"&response_type=token&scope=channel:read:subscriptions"),"_self");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return console.log(void 0!==this.props.user.info.id),o.a.createElement(j,null,o.a.createElement(B,{src:this.props.user.info.profile_image_url?this.props.user.info.profile_image_url:g.a,className:"profile-image",alt:"profile"}),void 0!==this.props.user.info.id?o.a.createElement(U,null,this.props.user.info.display_name):o.a.createElement(D,{onClick:function(){return e.handleClick()}},"Log In"))}}]),t}(r.Component)),I=n(73),L=n(6),S=n(75),A=n(77),N={info:{}},T={users:[[]]},H=Object(L.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"FETCH_USER":return Object(A.a)({},e,{info:r});default:return e}},subscribers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"FETCH_SUBSCRIBER":return e.users.push(r),{users:e.users};default:return e}}}),z=[S.a],W=Object(L.e)(H,{},Object(L.d)(L.a.apply(void 0,z),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),K=function(){return function(){var e=Object(p.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=W.getState().user.id,e.next=4,E.a.get("https://ts-analytica-test.herokuapp.com/helix/subscriptions?broadcaster_id=".concat(n),{headers:{Authorization:"Bearer ".concat(C.a.parse(document.location.hash).access_token)}});case 4:(r=e.sent)&&t({type:"FETCH_SUBSCRIBER",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()};setInterval(function(){K()},3e5);var F=b.a.div.withConfig({displayName:"SubscriberChart__Chart",componentId:"sc-1ht110a-0"})(["margin-top:32px;background-color:",";border-radius:12px;width:75%;-webkit-box-shadow:0px 10px 82px -7px rgba(0,0,0,0.75);-moz-box-shadow:0px 10px 82px -7px rgba(0,0,0,0.75);box-shadow:0px 10px 82px -7px rgba(0,0,0,0.75);"],O.LAVENDER),V=Object(x.b)(function(e){return console.log(O.BLUE),{user:e.user,subscribers:e.subscribers}},{fetchSubscribers:K})(function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).data={labels:[],datasets:[{fontColor:"black",label:"Subscribers",fill:!0,lineTension:.1,backgroundColor:O.BLUE,borderColor:O.BLUE,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:O.BLUE,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]},n.options={scales:{yAxes:[{stacked:!0,gridLines:{color:O.DARK_BLUE},ticks:{fontColor:O.DARK_BLUE}}],xAxes:[{ticks:{fontColor:O.DARK_BLUE},gridLines:{color:O.DARK_BLUE}}]},legend:{display:!0,labels:{fontColor:"#000"}},title:{display:"true",text:"Subscribers Over Time",fontColor:"#000"}},n.mapDispatchToProps=function(){return{fetchSubscribers:K}},n.componentWillMount=function(){n.props.fetchSubscribers(),setInterval(function(){n.props.fetchSubscribers()},1e4)},n.componentWillReceiveProps=function(e){n.data.datasets[0].data=e.subscribers.users.slice(1).map(function(e){return e.length}),n.data.datasets[0].data.length>0&&n.data.labels.push((new Date).toUTCString().substring(18))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(F,null,o.a.createElement(I.a,{options:this.options,data:this.data,ref:function(t){return e.chart=t}}))}}]),t}(r.Component)),X=b.a.div.withConfig({displayName:"App__AppContainer",componentId:"sxx1eo-0"})(["text-align:center;background-color:",";min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:white;"],O.DARK_BLUE),J=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=Object(p.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{store:W},o.a.createElement(X,null,o.a.createElement(R,this.state),o.a.createElement(V,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},70:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},78:function(e,t,n){e.exports=n(215)},83:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.c4db12d4.chunk.js.map